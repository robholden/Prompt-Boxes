!function(e,t,s){"use strict";"function"==typeof window.define&&window.define.amd?window.define(s):"undefined"!=typeof module&&module.exports?module.exports=s():t.exports?t.exports=s():t.PromptBoxes=s()}(0,this,function(){"use strict";var s=function(e){if(!(this instanceof s))return new s(e);for(var t in this.options=this._extend(e,{attrPrefix:"pb",speeds:{backdrop:250,toasts:250},alert:{okText:"Ok",okClass:"",closeWithEscape:!1,absolute:!1},confirm:{confirmText:"Confirm",confirmClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},prompt:{inputType:"text",submitText:"Submit",submitClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},toasts:{direction:"top",max:5,duration:5e3,showTimerBar:!0,closeWithEscape:!0,allowClose:!1}}),this._prefixes)this._prefixes.hasOwnProperty(t)&&(this._prefixes[t]=this.options.attrPrefix+"-"+t)};return s.prototype={_extend:function(e,t){if(null==e)return t;for(var s in e)null!=e[s]&&t[s]!==e[s]&&(t[s]=e[s]);return t},_prefixes:{toast:"",confirm:"",prompt:"",alert:"",container:"",backdrop:"",message:"",buttons:"",timerBar:""},_destroyBase:function(t){for(var e=0;e<t.length;e++)t[e].removeAttribute("data-show");this._addEscapeEvent(null),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].remove()},this.options.speeds.backdrop)},_addEscapeEvent:function(t){document.getElementsByTagName("body")[0].onkeyup=t?function(e){27===e.keyCode&&t()}:null},clear:function(){var e=this;e._toastQueue=[],e._displayToasts();for(var t=[],s=[e._prefixes.backdrop,e._prefixes.alert,e._prefixes.confirm,e._prefixes.prompt],n=0;n<s.length;n++)for(var o=document.getElementsByClassName(s[n]),a=0;a<o.length;a++)t.push(o[a]);e._destroyBase(t)},alert:function(t,e,s,n){var o=this;n=o._extend(n,Object.assign({},o.options.alert)),e||(e="This is an alert"),s&&(n.okText=s);var a=document.createElement("div"),i=document.createElement("div");if(i.id=o._prefixes.container,i.className=o._prefixes.alert,a.className=o._prefixes.backdrop,!0===n.absolute){var r=document.documentElement,c=(window.pageYOffset||r.scrollTop)-(r.clientTop||0);i.style.position="absolute",i.style.top=c+"px"}var l=document.createElement("div");l.className=o._prefixes.message,l.innerHTML=e;var d=document.createElement("div"),u=document.createElement("button");d.className=o._prefixes.buttons,u.className=n.okClass,u.innerHTML=n.okText;var m=function(e){t(e||!1),o._destroyBase([a,i])};u.onclick=function(){m(!0)},d.appendChild(u),i.appendChild(l),i.appendChild(d);var p=document.getElementsByTagName("body")[0];p.appendChild(a),p.appendChild(i),n.closeWithEscape&&o._addEscapeEvent(m),setTimeout(function(){u.focus(),a.setAttribute("data-show","true"),i.setAttribute("data-show","true")},50)},confirm:function(t,e,s,n,o){var a=this;o=a._extend(o,Object.assign({},a.options.confirm)),e||(e="Please confirm this action"),s&&(o.confirmText=s),n&&(o.cancelText=n);var i=document.createElement("div"),r=document.createElement("div");if(r.id=a._prefixes.container,r.className=a._prefixes.confirm,i.className=a._prefixes.backdrop,!0===o.absolute){var c=document.documentElement,l=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);r.style.position="absolute",r.style.top=l+"px"}var d=document.createElement("div");d.className=a._prefixes.message,d.innerHTML=e;var u=document.createElement("div"),m=document.createElement("button"),p=document.createElement("button");u.className=a._prefixes.buttons,m.className=o.confirmClass,m.innerHTML=o.confirmText,p.className=o.cancelClass,p.innerHTML=o.cancelText;var f=function(e){t(e||!1),a._destroyBase([i,r])};p.onclick=function(){f()},m.onclick=function(){f(!0)},u.appendChild(p),u.appendChild(m),r.appendChild(d),r.appendChild(u);var h=document.getElementsByTagName("body")[0];h.appendChild(i),h.appendChild(r),o.closeWithEscape&&a._addEscapeEvent(f),setTimeout(function(){m.focus(),i.setAttribute("data-show","true"),r.setAttribute("data-show","true")},50)},prompt:function(t,e,s,n,o,a){var i=this;a=i._extend(a,Object.assign({},i.options.prompt)),e||(e="Are you sure?"),s&&(a.inputType=s),n&&(a.submitText=n),o&&(a.cancelText=o);var r=document.createElement("div"),c=document.createElement("div");if(c.id=i._prefixes.container,c.className=i._prefixes.prompt,r.className=i._prefixes.backdrop,!0===a.absolute){var l=document.documentElement,d=(window.pageYOffset||l.scrollTop)-(l.clientTop||0);c.style.position="absolute",c.style.top=d+"px"}var u=document.createElement("div");u.className=i._prefixes.message,u.innerHTML=e;var m=document.createElement("input");m.type=a.inputType;var p=document.createElement("div"),f=document.createElement("button"),h=document.createElement("button");p.className=i._prefixes.buttons,f.className=a.submitClass,f.setAttribute("disabled","disabled"),f.innerHTML=a.submitText,h.className=a.cancelClass,h.innerHTML=a.cancelText;var v=function(e){t(e||!1),i._destroyBase([r,c])};m.onkeyup=function(e){var t=m.value;if(""===t)return f.setAttribute("disabled","disabled");f.removeAttribute("disabled"),13===e.keyCode&&v(t)},h.onclick=function(){v()},f.onclick=function(){var e=m.value;if(""===e)return m.focus();v(e)},p.appendChild(h),p.appendChild(f),c.appendChild(u),c.appendChild(m),c.appendChild(p);var _=document.getElementsByTagName("body")[0];_.appendChild(r),_.appendChild(c),a.closeWithEscape&&i._addEscapeEvent(v),setTimeout(function(){m.focus(),r.setAttribute("data-show","true"),c.setAttribute("data-show","true")},50)},_toastQueue:[],_addToast:function(e,t,s){this._toastQueue.length>=s.max&&this._toastQueue.splice(s.max-1,this._toastQueue.length-(s.max-1)),this._toastQueue.unshift({id:e.id,className:t}),setTimeout(function(){e.className=t+" show"},50)},_removeToast:function(e){for(var t=0;t<this._toastQueue.length;t++)if(this._toastQueue[t].id===e.id){this._toastQueue.splice(t,1);break}},_displayToasts:function(e){var t=this;e=e||t.options.toasts;for(var s=function(e){e.className="gone "+e.className,setTimeout(function(){try{e.remove()}catch(e){console.error(e)}},t.options.speeds.toasts)},n=document.getElementsByClassName(t._prefixes.toast),o=0;o<n.length;o++){for(var a=n[o].id,i=!1,r=0;r<t._toastQueue.length;r++)a===t._toastQueue[r].id&&(i=!0);i||s(n[o])}var c=0;for(o=0;o<t._toastQueue.length;o++){c+=10;var l=document.getElementById(t._toastQueue[o].id);if(!l)break;if(0<o){var d=document.getElementById(t._toastQueue[o-1].id);d&&(c+=d.clientHeight)}"bottom"===e.direction?l.style.marginBottom=c+"px":l.style.marginTop=c+"px"}},toast:function(e,t,s){var n=this;s=n._extend(s,Object.assign({},n.options.toasts));var o=n._prefixes.toast+" "+s.direction+" "+(t||"info"),a=document.createElement("div");if(a.innerHTML=e,a.id="toast_"+n._toastQueue.length+"_"+Math.random(),a.className=o,s.allowClose){var i=document.createElement("a");i.href="javascript:void(0)",i.innerHTML="&times;",i.className="toast-close",i.onclick=function(){n._removeToast(a),n._displayToasts(s)},a.appendChild(i),a.setAttribute("data-close",!0)}if(document.getElementsByTagName("body")[0].appendChild(a),n._addToast(a,o,s),n._displayToasts(s),s.duration){if(s.showTimerBar){var r=document.createElement("div");r.style.position="absolute",r.style.bottom=0,r.style.left=0,r.style.width=0,r.style.height="4px",r.style.background="rgba(0, 0, 0, 0.25)",r.style.transition="width linear "+s.duration+"ms",r.className=n._prefixes.timerBar,a.appendChild(r),setTimeout(function(){r.style.width="100%"},50)}setTimeout(function(){n._removeToast(a),n._displayToasts(s)},s.duration)}},success:function(e,t){this.toast(e,"success",t)},error:function(e,t){this.toast(e,"error",t)},info:function(e,t){this.toast(e,"info",t)}},s}),Element.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;0<=e;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};
//# sourceMappingURL=prompt-boxes.min.js.map