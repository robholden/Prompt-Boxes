!function(e,t,s){"use strict";"function"==typeof window.define&&window.define.amd?window.define(s):"undefined"!=typeof module&&module.exports?module.exports=s():t.exports?t.exports=s():t.PromptBoxes=s()}(0,this,function(){"use strict";var s=function(e){if(!(this instanceof s))return new s(e);for(var t in this.options=this._extend(e,{attrPrefix:"pb",speeds:{backdrop:250,toasts:250},alert:{okText:"Ok",okClass:"",closeWithEscape:!1,absolute:!1},confirm:{confirmText:"Confirm",confirmClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},prompt:{inputType:"text",submitText:"Submit",submitClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},toasts:{direction:"top",max:5,duration:5e3,showTimerBar:!0,closeWithEscape:!0,allowClose:!1}}),this._prefixes)this._prefixes.hasOwnProperty(t)&&(this._prefixes[t]=this.options.attrPrefix+"-"+t)};return s.prototype={_extend:function(e,t){if(null==e)return t;for(var s in e)null!=e[s]&&t[s]!==e[s]&&(t[s]=e[s]);return t},_prefixes:{toast:"",confirm:"",prompt:"",alert:"",container:"",backdrop:"",message:"",buttons:"",timerBar:""},_destroyBase:function(t){for(var e=0;e<t.length;e++)t[e].removeAttribute("data-show");this._addEscapeEvent(null),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].remove()},this.options.speeds.backdrop)},_addEscapeEvent:function(t){document.getElementsByTagName("body")[0].onkeyup=t?function(e){27===e.keyCode&&t()}:null},clear:function(){var e=this;e._toastQueue=[],e._displayToasts();for(var t=[],s=[e._prefixes.backdrop,e._prefixes.alert,e._prefixes.confirm,e._prefixes.prompt],n=0;n<s.length;n++)for(var a=document.getElementsByClassName(s[n]),o=0;o<a.length;o++)t.push(a[o]);e._destroyBase(t)},alert:function(t,e,s,n){var a=this;n=a._extend(n,Object.assign({},a.options.alert)),e||(e="This is an alert"),s&&(n.okText=s);var o=document.createElement("div"),i=document.createElement("div");if(i.id=a._prefixes.container,i.className=a._prefixes.alert,o.className=a._prefixes.backdrop,!0===n.absolute){var r=document.documentElement,c=(window.pageYOffset||r.scrollTop)-(r.clientTop||0);i.style.position="absolute",i.style.top=c+"px"}var l=document.createElement("div");l.className=a._prefixes.message,l.innerHTML=e;var d=document.createElement("div"),u=document.createElement("button");d.className=a._prefixes.buttons,u.className=n.okClass,u.innerHTML=n.okText;var m=function(e){t(e||!1),a._destroyBase([o,i])};u.onclick=function(){m(!0)},d.appendChild(u),i.appendChild(l),i.appendChild(d);var p=document.getElementsByTagName("body")[0];p.appendChild(o),p.appendChild(i),n.closeWithEscape&&a._addEscapeEvent(m),setTimeout(function(){u.focus(),o.setAttribute("data-show","true"),i.setAttribute("data-show","true")},50)},confirm:function(t,e,s,n,a){var o=this;a=o._extend(a,Object.assign({},o.options.confirm)),e||(e="Please confirm this action"),s&&(a.confirmText=s),n&&(a.cancelText=n);var i=document.createElement("div"),r=document.createElement("div");if(r.id=o._prefixes.container,r.className=o._prefixes.confirm,i.className=o._prefixes.backdrop,!0===a.absolute){var c=document.documentElement,l=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);r.style.position="absolute",r.style.top=l+"px"}var d=document.createElement("div");d.className=o._prefixes.message,d.innerHTML=e;var u=document.createElement("div"),m=document.createElement("button"),p=document.createElement("button");u.className=o._prefixes.buttons,m.className=a.confirmClass,m.innerHTML=a.confirmText,p.className=a.cancelClass,p.innerHTML=a.cancelText;var f=function(e){t(e||!1),o._destroyBase([i,r])};p.onclick=function(){f()},m.onclick=function(){f(!0)},u.appendChild(p),u.appendChild(m),r.appendChild(d),r.appendChild(u);var h=document.getElementsByTagName("body")[0];h.appendChild(i),h.appendChild(r),a.closeWithEscape&&o._addEscapeEvent(f),setTimeout(function(){m.focus(),i.setAttribute("data-show","true"),r.setAttribute("data-show","true")},50)},prompt:function(t,e,s,n,a,o,i){var r=this;i=r._extend(i,Object.assign({},r.options.prompt)),e||(e="Are you sure?"),s&&(i.inputType=s),a&&(i.submitText=a),o&&(i.cancelText=o);var c=document.createElement("div"),l=document.createElement("div");if(l.id=r._prefixes.container,l.className=r._prefixes.prompt,c.className=r._prefixes.backdrop,!0===i.absolute){var d=document.documentElement,u=(window.pageYOffset||d.scrollTop)-(d.clientTop||0);l.style.position="absolute",l.style.top=u+"px"}var m,p=document.createElement("div");switch(p.className=r._prefixes.message,p.innerHTML=e,i.inputType){case"textarea":m=document.createElement("textarea");break;default:(m=document.createElement("input")).type=i.inputType}n&&(m.value=n);var f=document.createElement("div"),h=document.createElement("button"),v=document.createElement("button");f.className=r._prefixes.buttons,h.className=i.submitClass,n||h.setAttribute("disabled","disabled"),h.innerHTML=i.submitText,v.className=i.cancelClass,v.innerHTML=i.cancelText;var _=function(e){t(e||!1),r._destroyBase([c,l])};m.onkeyup=function(e){var t=m.value;if(""===t)return h.setAttribute("disabled","disabled");h.removeAttribute("disabled"),13===e.keyCode&&_(t)},v.onclick=function(){_()},h.onclick=function(){var e=m.value;if(""===e)return m.focus();_(e)},f.appendChild(v),f.appendChild(h),l.appendChild(p),l.appendChild(m),l.appendChild(f);var x=document.getElementsByTagName("body")[0];x.appendChild(c),x.appendChild(l),i.closeWithEscape&&r._addEscapeEvent(_),setTimeout(function(){m.focus(),c.setAttribute("data-show","true"),l.setAttribute("data-show","true")},50)},_toastQueue:[],_addToast:function(e,t,s){this._toastQueue.length>=s.max&&this._toastQueue.splice(s.max-1,this._toastQueue.length-(s.max-1)),this._toastQueue.unshift({id:e.id,className:t}),setTimeout(function(){e.className=t+" show"},50)},_removeToast:function(e){for(var t=0;t<this._toastQueue.length;t++)if(this._toastQueue[t].id===e.id){this._toastQueue.splice(t,1);break}},_displayToasts:function(e){var t=this;e=e||t.options.toasts;for(var s=function(e){e.className="gone "+e.className,setTimeout(function(){try{e.remove()}catch(e){console.error(e)}},t.options.speeds.toasts)},n=document.getElementsByClassName(t._prefixes.toast),a=0;a<n.length;a++){for(var o=n[a].id,i=!1,r=0;r<t._toastQueue.length;r++)o===t._toastQueue[r].id&&(i=!0);i||s(n[a])}var c=0;for(a=0;a<t._toastQueue.length;a++){c+=10;var l=document.getElementById(t._toastQueue[a].id);if(!l)break;if(0<a){var d=document.getElementById(t._toastQueue[a-1].id);d&&(c+=d.clientHeight)}"bottom"===e.direction?l.style.marginBottom=c+"px":l.style.marginTop=c+"px"}},toast:function(e,t,s){var n=this;s=n._extend(s,Object.assign({},n.options.toasts));var a=n._prefixes.toast+" "+s.direction+" "+(t||"info"),o=document.createElement("div");if(o.innerHTML=e,o.id="toast_"+n._toastQueue.length+"_"+Math.random(),o.className=a,s.allowClose){var i=document.createElement("a");i.href="javascript:void(0)",i.innerHTML="&times;",i.className="toast-close",i.onclick=function(){n._removeToast(o),n._displayToasts(s)},o.appendChild(i),o.setAttribute("data-close",!0)}if(document.getElementsByTagName("body")[0].appendChild(o),n._addToast(o,a,s),n._displayToasts(s),s.duration){if(s.showTimerBar){var r=document.createElement("div");r.style.position="absolute",r.style.bottom=0,r.style.left=0,r.style.width=0,r.style.height="4px",r.style.background="rgba(0, 0, 0, 0.25)",r.style.transition="width linear "+s.duration+"ms",r.className=n._prefixes.timerBar,o.appendChild(r),setTimeout(function(){r.style.width="100%"},50)}setTimeout(function(){n._removeToast(o),n._displayToasts(s)},s.duration)}},success:function(e,t){this.toast(e,"success",t)},error:function(e,t){this.toast(e,"error",t)},info:function(e,t){this.toast(e,"info",t)}},s}),Element.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;0<=e;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};
//# sourceMappingURL=prompt-boxes.min.js.map